(this.webpackJsonpdialexadeets=this.webpackJsonpdialexadeets||[]).push([[0],{35:function(e,t,a){"use strict";a.r(t);var s=a(8),n=a.n(s),c=a(16),o=a.n(c),i=a(17),l=a(18),r=a(21),d=a(20),u=a(9),m={apiKey:"AIzaSyB0cVmOa_rETlPWcLyiGsAvxpgArH3E-No",authDomain:"dialexadeets-783bc.firebaseapp.com",projectId:"dialexadeets-783bc",storageBucket:"dialexadeets-783bc.appspot.com",messagingSenderId:"710837960305",appId:"1:710837960305:web:1e269a565172a9d85265d0",measurementId:"G-L7MQXEEG6C"},h=a(19),j=a.n(h),b=a(3),p=function(e){Object(r.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).writeUserData=function(){u.a.database().ref("/").set(s.state),console.log("DATA SAVED")},s.getUserData=function(){u.a.database().ref("/").on("value",(function(e){var t=e.val();s.setState(t)}))},s.handleSubmit=function(e){e.preventDefault();var t=s.refs.name.value,a=s.refs.role.value,n=s.refs.uid.value;if(n&&t&&a){var c=s.state.developers,o=c.findIndex((function(e){return e.uid===n}));c[o].name=t,c[o].role=a,s.setState({developers:c})}else if(t&&a){var i=(new Date).getTime().toString(),l=s.state.developers;l.push({uid:i,name:t,role:a}),s.setState({developers:l})}s.refs.name.value="",s.refs.role.value="",s.refs.uid.value=""},s.removeData=function(e){var t=s.state.developers.filter((function(t){return t.uid!==e.uid}));s.setState({developers:t})},s.updateData=function(e){s.refs.uid.value=e.uid,s.refs.name.value=e.name,s.refs.role.value=e.role},u.a.apps.length||u.a.initializeApp(m),s.state={developers:[]},s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"componentDidUpdate",value:function(e,t){t!==this.state&&this.writeUserData()}},{key:"authentication",value:function(){var e=new u.a.auth.GoogleAuthProvider;e.addScope("https://www.googleapis.com/auth/userinfo.profile"),e.addScope("https://www.googleapis.com/auth/user.birthday.read"),e.addScope("https://www.googleapis.com/auth/userinfo.email"),u.a.auth().useDeviceLanguage(),e.setCustomParameters({login_hint:"user@dialexa.com"}),u.a.auth().signInWithPopup(e).then((function(e){var t=e.credential;console.log(t);var a=t.accessToken,s=e.user;console.log(a),console.log(s.email)})).catch((function(e){e.code,e.message,e.email,e.credential}))}},{key:"signout",value:function(){u.a.auth().signOut().then((function(){console.log("Signed out!")})).catch((function(e){console.log("Can't be signed out!")}))}},{key:"render",value:function(){var e=this,t=this.state.developers;return Object(b.jsx)(n.a.Fragment,{children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-xl-12",children:[Object(b.jsx)("h1",{children:"Dialexa Deets Test Page"}),Object(b.jsx)("img",{src:"https://images.squarespace-cdn.com/content/v1/590895c0c534a53150578614/1494348858995-JD5N0C1YTJHG1M1E6RA9/ke17ZwdGBToddI8pDm48kIEUUicUWNT1QMva-rSuidtZw-zPPgdn4jUwVcJE1ZvWEtT5uBSRWt4vQZAgTJucoTqqXjS3CfNDSuuf31e0tVEfRGHfD04-EYvAJQ1amXosO5im0bt7e9EzuE_obzP6KGQ6l2WM7tn7mqHTODzkmeM/image-asset.png",alt:"Mr Roboto"}),Object(b.jsx)(j.a,{onClick:function(){console.log("Google Auth Clicked"),e.authentication()}}),Object(b.jsx)("button",{onClick:function(){console.log("Sign out clicked"),e.signout()},children:"Log Out Here!"})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-xl-12",children:t.map((function(t){return Object(b.jsx)("div",{className:"card float-left",style:{width:"18rem",marginRight:"1rem"},children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h5",{className:"card-title",children:t.name}),Object(b.jsx)("p",{className:"card-text",children:t.role}),Object(b.jsx)("button",{onClick:function(){return e.removeData(t)},className:"btn btn-link",children:"Delete"}),Object(b.jsx)("button",{onClick:function(){return e.updateData(t)},className:"btn btn-link",children:"Edit"})]})},t.uid)}))})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-xl-12",children:[Object(b.jsx)("h1",{children:"Add new team member here"})," ",Object(b.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(b.jsxs)("div",{className:"form-row",children:[Object(b.jsx)("input",{type:"hidden",ref:"uid"}),Object(b.jsxs)("div",{className:"form-group col-md-6",children:[Object(b.jsx)("label",{children:"Name"}),Object(b.jsx)("input",{type:"text",ref:"name",className:"form-control",placeholder:"Name"})]}),Object(b.jsxs)("div",{className:"form-group col-md-6",children:[Object(b.jsx)("label",{children:"Role"}),Object(b.jsx)("input",{type:"text",ref:"role",className:"form-control",placeholder:"Role"})]})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}),Object(b.jsx)("div",{className:"row"})]})})}}]),a}(n.a.Component);o.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.aace3ef1.chunk.js.map